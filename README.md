# GophKeeper

### Описание 

GophKeeper — это кроссплатформенная клиент-серверная система для безопасного хранения и управления конфиденциальными данными пользователя: логинами и паролями, банковскими картами, произвольными текстовыми и бинарными секретами.

Основные задачи системы:
- Надёжная регистрация, аутентификация и авторизация пользователей.
- Безопасное хранение и синхронизация приватных данных между несколькими авторизованными клиентами одного пользователя.
- Предоставление пользователю доступа к его данным по запросу.
- CLI-клиент, работающий на Windows, Linux и macOS, с поддержкой вывода информации о версии и дате сборки.

Система поддерживает хранение дополнительной текстовой метаинформации для любых типов секретов (например, данные о принадлежности к сайту, личности или банку, одноразовые коды и прочее).

---

### Архитектура и компоненты

- **Сервер**  
  Обрабатывает регистрацию и аутентификацию, хранит и синхронизирует данные пользователей, обеспечивает безопасную передачу приватной информации.
  
- **Клиент**  
  CLI-приложение для управления секретами: аутентификация, запрос, добавление, редактирование и удаление данных, синхронизация с сервером.

- **Протоколы gRPC**  
  Описаны в `.proto` файлах для различных типов секретов (логин/пароль, банковские карты, бинарные и текстовые данные), а также для аутентификации.

---

### Основные возможности

- Регистрация и вход пользователя.
- Управление секретами различных типов:  
  * Логины и пароли  
  * Текстовые заметки  
  * Бинарные данные  
  * Данные банковских карт
- Синхронизация данных между устройствами одного пользователя.
- Хранение метаданных для каждой записи.
- Кроссплатформенный CLI-клиент с версиями для Windows, Linux и macOS.
- Безопасная передача и хранение данных.

---

### Структура

```
.
├── api
│   └── grpc
│       ├── auth.proto                      # gRPC протокол для аутентификации
│       ├── secret_bank_card.proto          # gRPC протокол для секретов банковских карт
│       ├── secret_binary.proto             # gRPC протокол для бинарных секретов
│       ├── secret_text.proto               # gRPC протокол для текстовых секретов
│       └── secret_username_password.proto # gRPC протокол для секретов с логином и паролем
├── builds
│   ├── gophkeeper-client-linux-amd64      # Скомпилированный клиент для Linux amd64
│   ├── gophkeeper-client-macos-amd64      # Скомпилированный клиент для macOS amd64
│   ├── gophkeeper-client-windows-amd64.exe # Скомпилированный клиент для Windows amd64
│   └── README.md                          # Документация к сборкам
├── cmd
│   └── client
│       ├── app
│       │   ├── commands
│       │   │   ├── add_secret_bank_card.go       # CLI команда: добавить секрет банковской карты
│       │   │   ├── add_secret_binary.go          # CLI команда: добавить бинарный секрет
│       │   │   ├── add_secret_text.go            # CLI команда: добавить текстовый секрет
│       │   │   ├── add_secret_username_password.go # CLI команда: добавить секрет с логином и паролем
│       │   │   ├── auth.go                        # CLI команда: аутентификация пользователя
│       │   │   ├── list.go                        # CLI команда: вывод списка секретов
│       │   │   ├── sync.go                        # CLI команда: синхронизация с сервером
│       │   │   └── version.go                     # CLI команда: версия клиента
│       │   ├── root.go                            # Основной корневой файл CLI приложения
│       │   └── root_test.go                       # Тесты для root.go
│       └── main.go                                # Точка входа клиента
├── go.mod                                      # Описание зависимостей модуля Go
├── go.sum                                      # Контрольные суммы зависимостей
├── internal
│   ├── client
│   │   ├── auth.go                              # Клиентская логика аутентификации
│   │   ├── auth_test.go                         # Тесты для auth.go
│   │   ├── secret_bank_card.go                  # Клиентская логика секретов банковских карт
│   │   ├── secret_bank_card_test.go             # Тесты для secret_bank_card.go
│   │   ├── secret_binary.go                      # Клиентская логика бинарных секретов
│   │   ├── secret_binary_test.go                 # Тесты для secret_binary.go
│   │   ├── secret_text.go                        # Клиентская логика текстовых секретов
│   │   ├── secret_text_test.go                   # Тесты для secret_text.go
│   │   ├── secret_username_password.go          # Клиентская логика секретов с логином и паролем
│   │   └── secret_username_password_test.go     # Тесты для secret_username_password.go
│   ├── configs
│   │   ├── client.go                            # Загрузка и обработка клиентских конфигураций
│   │   ├── clients
│   │   │   ├── grpc.go                         # Инициализация и управление gRPC клиентом
│   │   │   ├── grpc_test.go                    # Тесты для grpc.go
│   │   │   ├── http.go                         # Инициализация и управление HTTP клиентом
│   │   │   └── http_test.go                    # Тесты для http.go
│   │   ├── client_test.go                       # Тесты конфигураций клиента
│   │   └── db
│   │       ├── db.go                            # Подключение к базе данных и операции с ней
│   │       └── db_test.go                       # Тесты для db.go
│   │   └── protocol
│   │       ├── protocol.go                      # Определение протоколов и их обработка
│   │       └── protocol_test.go                 # Тесты для protocol.go
│   └── models
│       ├── auth.go                             # Модели данных аутентификации
│       ├── secret_bank_card.go                  # Модель секрета банковской карты
│       ├── secret_binary.go                      # Модель бинарного секрета
│       ├── secret_text.go                        # Модель текстового секрета
│       ├── secret_type.go                        # Определение типов секретов
│       └── secret_username_password.go          # Модель секрета с логином и паролем
├── Makefile                                      # Скрипты сборки, тестирования и прочее
├── pkg
│   └── grpc
│       ├── auth_grpc.pb.go                       # Сгенерированный gRPC код для auth сервиса
│       ├── auth.pb.go                            # Сгенерированные protobuf структуры для auth
│       ├── secret_bank_card_grpc.pb.go           # Сгенерированный gRPC код для секретов банковских карт
│       ├── secret_bank_card.pb.go                 # Сгенерированные protobuf структуры для секретов банковских карт
│       ├── secret_binary_grpc.pb.go                # Сгенерированный gRPC код для бинарных секретов
│       ├── secret_binary.pb.go                      # Сгенерированные protobuf структуры для бинарных секретов
│       ├── secret_text_grpc.pb.go                  # Сгенерированный gRPC код для текстовых секретов
│       ├── secret_text.pb.go                        # Сгенерированные protobuf структуры для текстовых секретов
│       ├── secret_username_password_grpc.pb.go     # Сгенерированный gRPC код для секретов с логином и паролем
│       └── secret_username_password.pb.go           # Сгенерированные protobuf структуры для секретов с логином и паролем
└── README.md                                    # Основная документация проекта

```

---