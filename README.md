# GophKeeper

### Описание 

GophKeeper — это кроссплатформенная клиент-серверная система для безопасного хранения и управления конфиденциальными данными пользователя: логинами и паролями, банковскими картами, произвольными текстовыми и бинарными секретами.

Основные задачи системы:
- Надёжная регистрация, аутентификация и авторизация пользователей.
- Безопасное хранение и синхронизация приватных данных между несколькими авторизованными клиентами одного пользователя.
- Предоставление пользователю доступа к его данным по запросу.
- CLI-клиент, работающий на Windows, Linux и macOS, с поддержкой вывода информации о версии и дате сборки.

Система поддерживает хранение дополнительной текстовой метаинформации для любых типов секретов (например, данные о принадлежности к сайту, личности или банку, одноразовые коды и прочее).

---

### Архитектура и компоненты

- **Сервер**  
  Обрабатывает регистрацию и аутентификацию, хранит и синхронизирует данные пользователей, обеспечивает безопасную передачу приватной информации.
  
- **Клиент**  
  CLI-приложение для управления секретами: аутентификация, запрос, добавление, редактирование и удаление данных, синхронизация с сервером.

- **Протоколы gRPC**  
  Описаны в `.proto` файлах для различных типов секретов (логин/пароль, банковские карты, бинарные и текстовые данные), а также для аутентификации.

---

### Основные возможности

- Регистрация и вход пользователя.
- Управление секретами различных типов:  
  * Логины и пароли  
  * Текстовые заметки  
  * Бинарные данные  
  * Данные банковских карт
- Синхронизация данных между устройствами одного пользователя.
- Хранение метаданных для каждой записи.
- Кроссплатформенный CLI-клиент с версиями для Windows, Linux и macOS.
- Безопасная передача и хранение данных.

---

### Структура

```
.
├── api
│   └── grpc
│       ├── auth.proto                      # Протокол для сервиса аутентификации и авторизации
│       ├── secret_bank_card.proto          # Протокол для данных секретной банковской карты и сервисов
│       ├── secret_binary.proto             # Протокол для бинарных секретов и сервисов
│       ├── secret_text.proto               # Протокол для текстовых секретов и сервисов
│       └── secret_username_password.proto # Протокол для секретов с логином и паролем и сервисов
├── builds
│   ├── gophkeeper-client-linux-amd64      # Скомпилированный клиент для Linux amd64
│   ├── gophkeeper-client-macos-amd64      # Скомпилированный клиент для macOS amd64
│   ├── gophkeeper-client-windows-amd64.exe # Скомпилированный клиент для Windows amd64
│   └── README.md                          # Документация или заметки в папке сборок
├── cmd
│   └── client
│       ├── app
│       │   ├── commands
│       │   │   ├── add_secret_bank_card.go       # Команда CLI для добавления секрета банковской карты
│       │   │   ├── add_secret_binary.go          # Команда CLI для добавления бинарного секрета
│       │   │   ├── add_secret_text.go            # Команда CLI для добавления текстового секрета
│       │   │   ├── add_secret_username_password.go # Команда CLI для добавления секрета с логином и паролем
│       │   │   ├── auth.go                        # Команды CLI для аутентификации
│       │   │   ├── flags
│       │   │   │   ├── meta.go                    # Определение флагов метаданных для CLI
│       │   │   │   └── meta_test.go               # Тесты для флагов метаданных
│       │   │   ├── list.go                        # Команда CLI для вывода списка секретов
│       │   │   └── version.go                     # Команда CLI для отображения версии приложения
│       │   ├── root.go                            # Основная настройка корневой команды CLI
│       │   └── root_test.go                       # Тесты для корневой команды CLI
│       └── main.go                                # Точка входа в клиентское приложение
├── go.mod                                      # Файл описания модуля Go
├── go.sum                                      # Контрольные суммы зависимостей модуля Go
├── internal
│   ├── configs
│   │   ├── client.go                            # Загрузка и обработка конфигураций клиента
│   │   ├── clients
│   │   │   ├── grpc.go                         # Инициализация и управление gRPC клиентом
│   │   │   ├── grpc_test.go                    # Тесты для gRPC клиента
│   │   │   ├── http.go                         # Инициализация и управление HTTP клиентом
│   │   │   └── http_test.go                    # Тесты для HTTP клиента
│   │   ├── client_test.go                       # Тесты конфигураций клиента
│   │   └── db
│   │       ├── db.go                            # Подключение к базе данных и базовые операции
│   │       └── db_test.go                       # Тесты слоя базы данных
│   ├── facades
│   │   ├── auth.go                             # Фасад для бизнес-логики аутентификации
│   │   ├── auth_test.go                        # Тесты фасада аутентификации
│   │   ├── secret_bank_card.go                 # Фасад для секретов банковских карт
│   │   ├── secret_bank_card_test.go            # Тесты фасада банковских карт
│   │   ├── secret_binary.go                     # Фасад для бинарных секретов
│   │   ├── secret_binary_test.go                # Тесты фасада бинарных секретов
│   │   ├── secret_text.go                       # Фасад для текстовых секретов
│   │   ├── secret_text_test.go                  # Тесты фасада текстовых секретов
│   │   ├── secret_username_password.go          # Фасад для секретов с логином и паролем
│   │   └── secret_username_password_test.go     # Тесты фасада логина и пароля
│   ├── models
│   │   ├── auth.go                             # Модели данных, связанные с аутентификацией
│   │   ├── protocol_type.go                     # Определение типов поддерживаемых протоколов
│   │   ├── secret_bank_card.go                  # Модель данных секрета банковской карты
│   │   ├── secret_binary.go                      # Модель данных бинарного секрета
│   │   ├── secret_text.go                        # Модель данных текстового секрета
│   │   ├── secret_type.go                        # Определение типов секретов
│   │   └── secret_username_password.go          # Модель данных секрета с логином и паролем
│   └── repositories
│       ├── secret_bank_card.go                   # Репозиторий для операций с секретами банковских карт
│       ├── secret_bank_card_test.go              # Тесты репозитория банковских карт
│       ├── secret_binary.go                       # Репозиторий для бинарных секретов
│       ├── secret_binary_test.go                  # Тесты репозитория бинарных секретов
│       ├── secret_text.go                         # Репозиторий для текстовых секретов
│       ├── secret_text_test.go                    # Тесты репозитория текстовых секретов
│       ├── secret_username_password.go           # Репозиторий для секретов с логином и паролем
│       └── secret_username_password_test.go      # Тесты репозитория логина и пароля
├── Makefile                                      # Файл сборки с определением команд (build, test и др.)
└── pkg
    └── grpc
        ├── auth_grpc.pb.go                       # Сгенерированный gRPC код клиента/сервера для аутентификации
        ├── auth.pb.go                            # Сгенерированные protobuf структуры для аутентификации
        ├── secret_bank_card_grpc.pb.go           # Сгенерированный gRPC код клиента/сервера для банковских карт
        ├── secret_bank_card.pb.go                 # Сгенерированные protobuf структуры для банковских карт
        ├── secret_binary_grpc.pb.go                # Сгенерированный gRPC код клиента/сервера для бинарных секретов
        ├── secret_binary.pb.go                      # Сгенерированные protobuf структуры для бинарных секретов
        ├── secret_text_grpc.pb.go                  # Сгенерированный gRPC код клиента/сервера для текстовых секретов
        ├── secret_text.pb.go                        # Сгенерированные protobuf структуры для текстовых секретов
        ├── secret_username_password_grpc.pb.go     # Сгенерированный gRPC код клиента/сервера для логина/пароля
        └── secret_username_password.pb.go           # Сгенерированные protobuf структуры для логина/пароля
```

---